# Personal AI Agent - Testing Environment Configuration
# Environment: testing
# This file contains testing-specific settings

# Environment Type
ENVIRONMENT=testing

# Server Settings
SERVER_HOST=localhost
SERVER_PORT=8001
SERVER_DEBUG=false
SERVER_RELOAD=false
SERVER_WORKERS=1

# Security Settings - Testing (Fast but secure enough)
SECURITY_SECRET_KEY=testing_secret_key_32_chars_minimum_for_tests_only
SECURITY_ALGORITHM=HS256
SECURITY_ACCESS_TOKEN_EXPIRE_MINUTES=5
SECURITY_PASSWORD_MIN_LENGTH=4
SECURITY_PASSWORD_REQUIRE_SPECIAL=false
SECURITY_PASSWORD_REQUIRE_NUMBERS=false
SECURITY_PASSWORD_REQUIRE_UPPERCASE=false

# Database Settings - Testing (In-memory or test database)
DATABASE_URL=sqlite:///:memory:
DATABASE_TIMEOUT=5
DATABASE_POOL_PRE_PING=false
DATABASE_ECHO=false
DATABASE_AUTO_MIGRATE=true
DATABASE_BACKUP_BEFORE_MIGRATE=false

# File Upload Settings
UPLOAD_MAX_FILE_SIZE=1048576
UPLOAD_SUPPORTED_EXTENSIONS=.pdf,.txt
UPLOAD_UPLOAD_DIR=./test_uploads
UPLOAD_TEMP_DIR=./test_temp
UPLOAD_CLEANUP_TEMP_FILES=true

# LLM Settings - Testing (Minimal resource usage)
LLM_MODEL_PATH=./test_models/small-model.gguf
LLM_CONTEXT_WINDOW=2048
LLM_MAX_TOKENS=128
LLM_TEMPERATURE=0.1
LLM_TOP_P=0.8
LLM_TOP_K=20
LLM_THREADS=1
LLM_USE_METAL=false
LLM_METAL_LAYERS=0
LLM_USE_CUDA=false
LLM_CUDA_LAYERS=0

# Embedding Settings
EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=8
EMBEDDING_NORMALIZE=true
EMBEDDING_CACHE_EMBEDDINGS=false

# Vector Store Settings
VECTOR_PATH=./test_data/vector_db
VECTOR_SEARCH_TOP_K=5
VECTOR_SIMILARITY_THRESHOLD=0.2
VECTOR_CHUNK_SIZE=500
VECTOR_CHUNK_OVERLAP=50

# Gmail Settings (Testing - Mock or disabled)
GMAIL_CLIENT_ID=test_client_id
GMAIL_CLIENT_SECRET=test_client_secret
GMAIL_REDIRECT_URI=http://localhost:8001/api/gmail/callback
GMAIL_MAX_EMAILS_PER_SYNC=10
GMAIL_DEFAULT_SYNC_LIMIT=5
GMAIL_SYNC_FREQUENCY_MINUTES=120
GMAIL_API_RATE_LIMIT=50

# Email Processing Settings
EMAIL_STORAGE_DIR=./test_data/emails
EMAIL_VECTOR_DB_PATH=./test_data/email_vectors
EMAIL_CHUNK_SIZE_BUSINESS=400
EMAIL_CHUNK_SIZE_PERSONAL=300
EMAIL_CHUNK_SIZE_PROMOTIONAL=200
EMAIL_CHUNK_SIZE_TRANSACTIONAL=150
EMAIL_CHUNK_SIZE_GENERIC=250
EMAIL_CLASSIFICATION_CONFIDENCE_THRESHOLD=0.5
EMAIL_AUTO_CLASSIFY=true

# Logging Settings - Testing (Minimal logging)
LOG_LEVEL=ERROR
LOG_FILE_PATH=./test_logs/app.log
LOG_MAX_BYTES=1048576
LOG_BACKUP_COUNT=1
LOG_CONSOLE_ENABLED=false
LOG_CONSOLE_FORMAT=%(levelname)s - %(message)s
LOG_FILE_ENABLED=true
LOG_FILE_FORMAT=%(asctime)s - %(levelname)s - %(message)s
LOG_JSON_LOGGING=false

# CORS Settings (Permissive for testing)
CORS_ALLOWED_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Monitoring Settings - Testing (Disabled for performance)
MONITORING_ENABLED=false
MONITORING_METRICS_ENABLED=false
MONITORING_HEALTH_CHECK_ENABLED=true
MONITORING_TRACK_PERFORMANCE=false
MONITORING_SLOW_QUERY_THRESHOLD=10.0
MONITORING_ERROR_TRACKING_ENABLED=false
MONITORING_ERROR_ALERT_THRESHOLD=100